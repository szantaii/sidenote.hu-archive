<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>játék &#8211; sidenote</title>
	<atom:link href="http://sidenote.hu/category/jatek/feed/" rel="self" type="application/rss+xml" />
	<link>http://sidenote.hu</link>
	<description></description>
	<lastBuildDate>Fri, 14 Aug 2020 14:56:44 +0000</lastBuildDate>
	<language>hu</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.8.15</generator>
	<item>
		<title>Creeper</title>
		<link>http://sidenote.hu/2014/08/03/creeper/</link>
		<pubDate>Sun, 03 Aug 2014 16:17:06 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[alkotunk]]></category>
		<category><![CDATA[játék]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[indie]]></category>
		<category><![CDATA[rajz]]></category>
		<category><![CDATA[TeX/LaTeX]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=8559</guid>
		<description><![CDATA[As a follow-up for my last post hereby I present a Creeper (right) in (Lua)LaTeX. &#160; Image source (left): File:Creeper.png &#8211; Minecraft Wiki 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247% Creeper&#8230;]]></description>
				<content:encoded><![CDATA[<p>As a follow-up for <a href="http://sidenote.hu/2014/07/20/drawing-an-enderman-in-latex/" title="Drawing an Enderman in LaTeX / sidenote">my last post</a> hereby I present a Creeper (right) in (Lua)LaTeX.</p>
<p><a href="http://sidenote.hu/wp-content/uploads/2014/08/creeper_minecraft_wiki.png"><img src="http://sidenote.hu/wp-content/uploads/2014/08/creeper_minecraft_wiki-350x713.png" alt="Creeper" width="350" height="713" class="alignnone size-medium wp-image-8561" srcset="http://sidenote.hu/wp-content/uploads/2014/08/creeper_minecraft_wiki-350x713.png 350w, http://sidenote.hu/wp-content/uploads/2014/08/creeper_minecraft_wiki-225x458.png 225w, http://sidenote.hu/wp-content/uploads/2014/08/creeper_minecraft_wiki.png 454w" sizes="(max-width: 350px) 100vw, 350px" /></a>&nbsp;<a href="http://sidenote.hu/wp-content/uploads/2014/08/creeper_lualatex.png"><img src="http://sidenote.hu/wp-content/uploads/2014/08/creeper_lualatex-350x713.png" alt="Creeper" width="350" height="713" class="alignnone size-medium wp-image-8562" srcset="http://sidenote.hu/wp-content/uploads/2014/08/creeper_lualatex-350x713.png 350w, http://sidenote.hu/wp-content/uploads/2014/08/creeper_lualatex-225x458.png 225w, http://sidenote.hu/wp-content/uploads/2014/08/creeper_lualatex.png 560w" sizes="(max-width: 350px) 100vw, 350px" /></a></p>
<p>Image source (left): <a href="http://minecraft.gamepedia.com/File:Creeper.png?version=25b0548e8cfe5c9fa2ea53cc54101eb3" title="File:Creeper.png - Minecraft Wiki">File:Creeper.png &#8211; Minecraft Wiki</a></p>
<div class="codecolorer-container lua dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;height:400px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br />50<br />51<br />52<br />53<br />54<br />55<br />56<br />57<br />58<br />59<br />60<br />61<br />62<br />63<br />64<br />65<br />66<br />67<br />68<br />69<br />70<br />71<br />72<br />73<br />74<br />75<br />76<br />77<br />78<br />79<br />80<br />81<br />82<br />83<br />84<br />85<br />86<br />87<br />88<br />89<br />90<br />91<br />92<br />93<br />94<br />95<br />96<br />97<br />98<br />99<br />100<br />101<br />102<br />103<br />104<br />105<br />106<br />107<br />108<br />109<br />110<br />111<br />112<br />113<br />114<br />115<br />116<br />117<br />118<br />119<br />120<br />121<br />122<br />123<br />124<br />125<br />126<br />127<br />128<br />129<br />130<br />131<br />132<br />133<br />134<br />135<br />136<br />137<br />138<br />139<br />140<br />141<br />142<br />143<br />144<br />145<br />146<br />147<br />148<br />149<br />150<br />151<br />152<br />153<br />154<br />155<br />156<br />157<br />158<br />159<br />160<br />161<br />162<br />163<br />164<br />165<br />166<br />167<br />168<br />169<br />170<br />171<br />172<br />173<br />174<br />175<br />176<br />177<br />178<br />179<br />180<br />181<br />182<br />183<br />184<br />185<br />186<br />187<br />188<br />189<br />190<br />191<br />192<br />193<br />194<br />195<br />196<br />197<br />198<br />199<br />200<br />201<br />202<br />203<br />204<br />205<br />206<br />207<br />208<br />209<br />210<br />211<br />212<br />213<br />214<br />215<br />216<br />217<br />218<br />219<br />220<br />221<br />222<br />223<br />224<br />225<br />226<br />227<br />228<br />229<br />230<br />231<br />232<br />233<br />234<br />235<br />236<br />237<br />238<br />239<br />240<br />241<br />242<br />243<br />244<br />245<br />246<br />247<br /></div></td><td><div class="lua codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #66cc66;">%</span> Creeper<br />
<span style="color: #66cc66;">%</span> Author<span style="color: #66cc66;">:</span> István Szántai <span style="color: #66cc66;">&#40;</span>szantaii<span style="color: #66cc66;">&#41;</span><br />
\documentclass<span style="color: #66cc66;">&#123;</span>article<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#123;</span>luacode<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#123;</span>xcolor<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#123;</span>tikz<span style="color: #66cc66;">&#125;</span><br />
\usepackage<span style="color: #66cc66;">&#123;</span>tikz<span style="color: #66cc66;">-</span>3dplot<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#91;</span>active<span style="color: #66cc66;">,</span> tightpage<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#123;</span>preview<span style="color: #66cc66;">&#125;</span><br />
\PreviewEnvironment<span style="color: #66cc66;">&#123;</span>tikzpicture<span style="color: #66cc66;">&#125;</span><br />
\setlength<span style="color: #66cc66;">&#123;</span>\PreviewBorder<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>1cm<span style="color: #66cc66;">&#125;</span><br />
<br />
\definecolor<span style="color: #66cc66;">&#123;</span>creeper_white<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>9AD78E<span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>creeper_lightgreen<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>5ED04C<span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>creeper_green<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>00A500<span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>creeper_darkgreen<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">255522</span><span style="color: #66cc66;">&#125;</span><br />
<br />
\begin<span style="color: #66cc66;">&#123;</span>luacode<span style="color: #66cc66;">*</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_coordinate_system<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(3,0,0) node[text=white!50!gray,anchor=north east]{$x$};&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0,3,0) node[text=white!50!gray,anchor=west]{$y$};&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0,0,3) node[text=white!50!gray,anchor=south]{$z$};&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> matrix_scalar_multiplication<span style="color: #66cc66;">&#40;</span>matrix<span style="color: #66cc66;">,</span> scalar<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> rows <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>matrix<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> cols <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>matrix<span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tmp_matrix <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> rows <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> j <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> cols <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">*</span> scalar<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> tmp_matrix<br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> shift_coordinates<span style="color: #66cc66;">&#40;</span>matrix<span style="color: #66cc66;">,</span> array<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> matrix_rows <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>matrix<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> matrix_cols <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>matrix<span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> array_length <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>array<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tmp_matrix <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> matrix_cols <span style="color: #66cc66;">==</span> array_length <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> matrix_rows <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> j <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> matrix_cols <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">+</span> array<span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> tmp_matrix<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> <span style="color: #aa9900;">nil</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> color<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_1 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_2 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_3 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_4 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_5 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_6 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> cube_sides <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span>side_1<span style="color: #66cc66;">,</span> side_2<span style="color: #66cc66;">,</span> side_3<span style="color: #66cc66;">,</span> side_4<span style="color: #66cc66;">,</span> side_5<span style="color: #66cc66;">,</span> side_6<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tex_cube <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">#</span>cube_sides <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[ultra thin, fill=&quot;</span> <span style="color: #66cc66;">..</span> color <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;] &quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> current_side <span style="color: #66cc66;">=</span> matrix_scalar_multiplication<span style="color: #66cc66;">&#40;</span>cube_sides<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0.5</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; current_side <span style="color: #66cc66;">=</span> shift_coordinates<span style="color: #66cc66;">&#40;</span>current_side<span style="color: #66cc66;">,</span> <span style="color: #66cc66;">&#123;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> current_side_rows <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>current_side<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> current_side_cols <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>current_side<span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> j <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> current_side_rows <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> k <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> current_side_cols <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> k <span style="color: #66cc66;">==</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;(&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> current_side<span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>k<span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> k <span style="color: #66cc66;">~=</span> current_side_cols <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, &quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;cycle;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span>tex_cube<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_head<span style="color: #66cc66;">&#40;</span>x_pos<span style="color: #66cc66;">,</span> y_pos<span style="color: #66cc66;">,</span> z_pos<span style="color: #66cc66;">,</span> colors_array<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> x <span style="color: #66cc66;">=</span> x_pos<span style="color: #66cc66;">,</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> y <span style="color: #66cc66;">=</span> y_pos<span style="color: #66cc66;">,</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> z <span style="color: #66cc66;">=</span> z_pos<span style="color: #66cc66;">,</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #aa9900; font-weight: bold;">or</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">or</span> z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> color_index <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">#</span>colors_array <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> colors_array<span style="color: #66cc66;">&#91;</span>color_index<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">4</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">4</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">&gt;</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span> y <span style="color: #66cc66;">&lt;</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;black&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">&gt;</span> y_pos <span style="color: #aa9900; font-weight: bold;">and</span> y <span style="color: #66cc66;">&lt;</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">&gt;</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">4</span> <span style="color: #aa9900; font-weight: bold;">and</span> y <span style="color: #66cc66;">&lt;</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">4</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">4</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> colors_array<span style="color: #66cc66;">&#91;</span><span style="color: #66cc66;">#</span>colors_array<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_leg<span style="color: #66cc66;">&#40;</span>x_pos<span style="color: #66cc66;">,</span> y_pos<span style="color: #66cc66;">,</span> z_pos<span style="color: #66cc66;">,</span> colors_array<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> x <span style="color: #66cc66;">=</span> x_pos<span style="color: #66cc66;">,</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> y <span style="color: #66cc66;">=</span> y_pos<span style="color: #66cc66;">,</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> z <span style="color: #66cc66;">=</span> z_pos<span style="color: #66cc66;">,</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #aa9900; font-weight: bold;">or</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">or</span> z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> color_index <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">#</span>colors_array <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> colors_array<span style="color: #66cc66;">&#91;</span>color_index<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">4</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> colors_array<span style="color: #66cc66;">&#91;</span><span style="color: #66cc66;">#</span>colors_array<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">3</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">4</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;black&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_bodypart<span style="color: #66cc66;">&#40;</span>x_pos<span style="color: #66cc66;">,</span> y_pos<span style="color: #66cc66;">,</span> z_pos<span style="color: #66cc66;">,</span> x_length<span style="color: #66cc66;">,</span> y_length<span style="color: #66cc66;">,</span> z_length<span style="color: #66cc66;">,</span> colors_array<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> color<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> x <span style="color: #66cc66;">=</span> x_pos<span style="color: #66cc66;">,</span> x_pos <span style="color: #66cc66;">+</span> x_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> y <span style="color: #66cc66;">=</span> y_pos<span style="color: #66cc66;">,</span> y_pos <span style="color: #66cc66;">+</span> y_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> z <span style="color: #66cc66;">=</span> z_pos<span style="color: #66cc66;">,</span> z_pos <span style="color: #66cc66;">+</span> z_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #aa9900; font-weight: bold;">or</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> x_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> y_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">or</span> z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> z_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> color_index <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">#</span>colors_array<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> colors_array<span style="color: #66cc66;">&#91;</span>color_index<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_creeper<span style="color: #66cc66;">&#40;</span>x_rotation<span style="color: #66cc66;">,</span> z_rotation<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> creeper_colors <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #ff6666;">&quot;creeper_white&quot;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;creeper_lightgreen&quot;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;creeper_green&quot;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;creeper_darkgreen&quot;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>tdplotsetmaincoords{&quot;</span> <span style="color: #66cc66;">..</span> x_rotation <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}{&quot;</span> <span style="color: #66cc66;">..</span> z_rotation <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>begin{tikzpicture}[tdplot_main_coords]&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000aa;">math.randomseed</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000aa;">os.time</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_leg<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">18</span><span style="color: #66cc66;">,</span> creeper_colors<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_leg<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">6</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">18</span><span style="color: #66cc66;">,</span> creeper_colors<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">12</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">4</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">12</span><span style="color: #66cc66;">,</span> creeper_colors<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_head<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> creeper_colors<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- draw_coordinate_system()</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>end{tikzpicture}&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
\<span style="color: #aa9900; font-weight: bold;">end</span><span style="color: #66cc66;">&#123;</span>luacode<span style="color: #66cc66;">*</span><span style="color: #66cc66;">&#125;</span><br />
<br />
\begin<span style="color: #66cc66;">&#123;</span>document<span style="color: #66cc66;">&#125;</span><br />
\luadirect<span style="color: #66cc66;">&#123;</span>draw_creeper<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">66</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">135</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#125;</span><br />
\<span style="color: #aa9900; font-weight: bold;">end</span><span style="color: #66cc66;">&#123;</span>document<span style="color: #66cc66;">&#125;</span></div></td></tr></tbody></table></div>
]]></content:encoded>
			</item>
		<item>
		<title>Drawing an Enderman in LaTeX</title>
		<link>http://sidenote.hu/2014/07/20/drawing-an-enderman-in-latex/</link>
		<comments>http://sidenote.hu/2014/07/20/drawing-an-enderman-in-latex/#comments</comments>
		<pubDate>Sun, 20 Jul 2014 07:53:46 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[alkotunk]]></category>
		<category><![CDATA[játék]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[indie]]></category>
		<category><![CDATA[rajz]]></category>
		<category><![CDATA[TeX/LaTeX]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=8535</guid>
		<description><![CDATA[In the last couple of months I&#8217;ve watched some videos of Achievement Hunter&#8217;s Let&#8217;s Play Minecraft videos where were some encounters with Endermen. I was&#8230;]]></description>
				<content:encoded><![CDATA[<p>In the last couple of months I&#8217;ve watched some videos of Achievement Hunter&#8217;s <a href="https://www.youtube.com/playlist?list=PL1cXh4tWqmsEQPeLEJ5V3k5knt-X9k043" title="Let's Play Minecraft - YouTube">Let&#8217;s Play Minecraft</a> videos where were some encounters with <a href="http://minecraft.gamepedia.com/Enderman" title="Enderman - Minecraft Wiki">Endermen</a>. I was really fascinated by these creatures since they can teleport, demand respect, mysterious, etc.</p>
<p>I have been &ldquo;playing&rdquo; with LaTeX, especially with LuaTeX, recently, and I wanted to make a 3D-like picture. So I have chosen <a href="http://www.ctan.org/pkg/tikz-3dplot" title="CTAN: Package tikz-3dplot"><code class="codecolorer text dawn"><span class="text">tikz‑3dplot</span></code></a> and LuaTeX to draw an Enderman. (I think this is totally drawable with pure TikZ (syntax), therefore compilable with <code class="codecolorer text dawn"><span class="text">pdflatex</span></code>, etc., but I found making this using LuaTeX much more simple.)</p>
<p><a href="http://sidenote.hu/wp-content/uploads/2014/07/enderman_from_wiki.png"><img src="http://sidenote.hu/wp-content/uploads/2014/07/enderman_from_wiki-350x569.png" alt="Enderman" width="350" height="569" class="alignnone size-medium wp-image-8537" srcset="http://sidenote.hu/wp-content/uploads/2014/07/enderman_from_wiki-350x569.png 350w, http://sidenote.hu/wp-content/uploads/2014/07/enderman_from_wiki-225x366.png 225w, http://sidenote.hu/wp-content/uploads/2014/07/enderman_from_wiki.png 629w" sizes="(max-width: 350px) 100vw, 350px" /></a>&nbsp;<a href="http://sidenote.hu/wp-content/uploads/2014/07/enderman_luatex.png"><img src="http://sidenote.hu/wp-content/uploads/2014/07/enderman_luatex-350x630.png" alt="Enderman" width="350" height="630" class="alignnone size-medium wp-image-8538" srcset="http://sidenote.hu/wp-content/uploads/2014/07/enderman_luatex-350x630.png 350w, http://sidenote.hu/wp-content/uploads/2014/07/enderman_luatex-225x405.png 225w, http://sidenote.hu/wp-content/uploads/2014/07/enderman_luatex.png 556w" sizes="(max-width: 350px) 100vw, 350px" /></a></p>
<p>Image source (left): <a href="http://minecraft.gamepedia.com/File:Enderman_normal.png" title="File:Enderman normal.png - Minecraft Wiki">File:Enderman normal.png &#8211; Minecraft Wiki</a></p>
<p>My drawing (right) is not accurate by many aspects, but I&#8217;ve achieved what I wanted.</p>
<div class="codecolorer-container lua dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;height:400px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br />50<br />51<br />52<br />53<br />54<br />55<br />56<br />57<br />58<br />59<br />60<br />61<br />62<br />63<br />64<br />65<br />66<br />67<br />68<br />69<br />70<br />71<br />72<br />73<br />74<br />75<br />76<br />77<br />78<br />79<br />80<br />81<br />82<br />83<br />84<br />85<br />86<br />87<br />88<br />89<br />90<br />91<br />92<br />93<br />94<br />95<br />96<br />97<br />98<br />99<br />100<br />101<br />102<br />103<br />104<br />105<br />106<br />107<br />108<br />109<br />110<br />111<br />112<br />113<br />114<br />115<br />116<br />117<br />118<br />119<br />120<br />121<br />122<br />123<br />124<br />125<br />126<br />127<br />128<br />129<br />130<br />131<br />132<br />133<br />134<br />135<br />136<br />137<br />138<br />139<br />140<br />141<br />142<br />143<br />144<br />145<br />146<br />147<br />148<br />149<br />150<br />151<br />152<br />153<br />154<br />155<br />156<br />157<br />158<br />159<br />160<br />161<br />162<br />163<br />164<br />165<br />166<br />167<br />168<br />169<br />170<br />171<br />172<br />173<br />174<br />175<br />176<br />177<br />178<br />179<br />180<br />181<br />182<br />183<br />184<br />185<br />186<br />187<br />188<br />189<br />190<br />191<br />192<br />193<br />194<br />195<br />196<br />197<br />198<br />199<br />200<br /></div></td><td><div class="lua codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #66cc66;">%</span> Enderman<br />
<span style="color: #66cc66;">%</span> Author<span style="color: #66cc66;">:</span> István Szántai <span style="color: #66cc66;">&#40;</span>szantaii<span style="color: #66cc66;">&#41;</span><br />
\documentclass<span style="color: #66cc66;">&#123;</span>article<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#123;</span>luacode<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#123;</span>xcolor<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#123;</span>tikz<span style="color: #66cc66;">&#125;</span><br />
\usepackage<span style="color: #66cc66;">&#123;</span>tikz<span style="color: #66cc66;">-</span>3dplot<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#91;</span>active<span style="color: #66cc66;">,</span> tightpage<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#123;</span>preview<span style="color: #66cc66;">&#125;</span><br />
\PreviewEnvironment<span style="color: #66cc66;">&#123;</span>tikzpicture<span style="color: #66cc66;">&#125;</span><br />
\setlength<span style="color: #66cc66;">&#123;</span>\PreviewBorder<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>1cm<span style="color: #66cc66;">&#125;</span><br />
<br />
\definecolor<span style="color: #66cc66;">&#123;</span>endermanblack<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">000000</span><span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>endermangray<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">161616</span><span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">%</span>\definecolor<span style="color: #66cc66;">&#123;</span>endermanpurple<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>CC00FA<span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">%</span>\definecolor<span style="color: #66cc66;">&#123;</span>endermanlightpurple<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>E079FA<span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>endermanpurple<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>FF9EFF<span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>endermanlightpurple<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>FFC9FF<span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>particlecolor<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>DF4AF8<span style="color: #66cc66;">&#125;</span><br />
<br />
\begin<span style="color: #66cc66;">&#123;</span>luacode<span style="color: #66cc66;">*</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_coordinate_system<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(3,0,0) node[text=white!50!gray,anchor=north east]{$x$};&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0,3,0) node[text=white!50!gray,anchor=west]{$y$};&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0,0,3) node[text=white!50!gray,anchor=south]{$z$};&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> color<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">--[[<br />
&nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (0.5, 0.5, -0.5) -- (-0.5, 0.5, -0.5) -- (-0.5, -0.5, -0.5) -- (0.5, -0.5, -0.5) -- cycle;<br />
&nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (-0.5, 0.5, -0.5) -- (-0.5, 0.5, 0.5) -- (-0.5, -0.5, 0.5) -- (-0.5, -0.5, -0.5) -- cycle;<br />
&nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (-0.5, -0.5, -0.5) -- (0.5, -0.5, -0.5) -- (0.5, -0.5, 0.5) -- (-0.5, -0.5, 0.5) -- cycle;<br />
&nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (0.5, 0.5, -0.5) -- (-0.5, 0.5, -0.5) -- (-0.5, 0.5, 0.5) -- (0.5, 0.5, 0.5) -- cycle;<br />
&nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (0.5, -0.5, -0.5) -- (0.5, 0.5, -0.5) -- (0.5, 0.5, 0.5) -- (0.5, -0.5, 0.5) -- cycle;<br />
&nbsp; &nbsp; &nbsp; &nbsp; \draw[fill=red] (0.5, 0.5, 0.5) -- (-0.5, 0.5, 0.5) -- (-0.5, -0.5, 0.5) -- (0.5, -0.5, 0.5) -- cycle;<br />
&nbsp; &nbsp; &nbsp; &nbsp; ]]</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> cube <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; cube <span style="color: #66cc66;">=</span> cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[ultra thin, fill=&quot;</span> <span style="color: #66cc66;">..</span> color <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;]&quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- cycle;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; cube <span style="color: #66cc66;">=</span> cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[ultra thin, fill=&quot;</span> <span style="color: #66cc66;">..</span> color <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;]&quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- cycle;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; cube <span style="color: #66cc66;">=</span> cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[ultra thin, fill=&quot;</span> <span style="color: #66cc66;">..</span> color <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;]&quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- cycle;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; cube <span style="color: #66cc66;">=</span> cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[ultra thin, fill=&quot;</span> <span style="color: #66cc66;">..</span> color <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;]&quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- cycle;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; cube <span style="color: #66cc66;">=</span> cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[ultra thin, fill=&quot;</span> <span style="color: #66cc66;">..</span> color <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;]&quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- cycle;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; cube <span style="color: #66cc66;">=</span> cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[ultra thin, fill=&quot;</span> <span style="color: #66cc66;">..</span> color <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;]&quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(-0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0.5 + &quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, -0.5 + &quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, 0.5 + &quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- cycle;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span>cube<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_head<span style="color: #66cc66;">&#40;</span>x_pos<span style="color: #66cc66;">,</span> y_pos<span style="color: #66cc66;">,</span> z_pos<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> color<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> x <span style="color: #66cc66;">=</span> x_pos<span style="color: #66cc66;">,</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> y <span style="color: #66cc66;">=</span> y_pos<span style="color: #66cc66;">,</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> z <span style="color: #66cc66;">=</span> z_pos<span style="color: #66cc66;">,</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> <span style="color: #66cc66;">&#40;</span>x <span style="color: #66cc66;">==</span> x_pos <span style="color: #aa9900; font-weight: bold;">or</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">or</span> z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">not</span> <span style="color: #66cc66;">&#40;</span>x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span> y <span style="color: #66cc66;">&gt;</span> y_pos <span style="color: #aa9900; font-weight: bold;">and</span> y <span style="color: #66cc66;">&lt;</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span> z <span style="color: #66cc66;">==</span> z_pos<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;endermanlightpurple&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">elseif</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;endermanpurple&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&lt;</span> <span style="color: #cc66cc;">6</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;endermangray&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;endermanblack&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> color<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_bodypart<span style="color: #66cc66;">&#40;</span>x_pos<span style="color: #66cc66;">,</span> y_pos<span style="color: #66cc66;">,</span> z_pos<span style="color: #66cc66;">,</span> x_length<span style="color: #66cc66;">,</span> y_length<span style="color: #66cc66;">,</span> z_length<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> color<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> x <span style="color: #66cc66;">=</span> x_pos<span style="color: #66cc66;">,</span> x_pos <span style="color: #66cc66;">+</span> x_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> y <span style="color: #66cc66;">=</span> y_pos<span style="color: #66cc66;">,</span> y_pos <span style="color: #66cc66;">+</span> y_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> z <span style="color: #66cc66;">=</span> z_pos<span style="color: #66cc66;">,</span> z_pos <span style="color: #66cc66;">+</span> z_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #aa9900; font-weight: bold;">or</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> x_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> y_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">or</span> z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> z_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&lt;</span> <span style="color: #cc66cc;">6</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;endermangray&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;endermanblack&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> color<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_particles<span style="color: #66cc66;">&#40;</span>x_min<span style="color: #66cc66;">,</span> x_max<span style="color: #66cc66;">,</span> y_min<span style="color: #66cc66;">,</span> y_max<span style="color: #66cc66;">,</span> z_min<span style="color: #66cc66;">,</span> z_max<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> x<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> y<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> z<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> black_amount<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> particle_size<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> particle_scale<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> particle_count <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">30</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">40</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> particle<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> particle_count<span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span>x_min<span style="color: #66cc66;">,</span> x_max<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span>y_min<span style="color: #66cc66;">,</span> y_max<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span>z_min<span style="color: #66cc66;">,</span> z_max<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_size <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_scale <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">20</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">/</span> <span style="color: #cc66cc;">100</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; black_amount <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">25</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>tdplottransformmainscreen{&quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}{&quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}{&quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> j <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">==</span> <span style="color: #cc66cc;">0</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#40;</span>i <span style="color: #66cc66;">~=</span> <span style="color: #cc66cc;">0</span> <span style="color: #aa9900; font-weight: bold;">and</span> j <span style="color: #66cc66;">~=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>i <span style="color: #66cc66;">~=</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span> j <span style="color: #66cc66;">~=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>j <span style="color: #66cc66;">~=</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span> i <span style="color: #66cc66;">~=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>i <span style="color: #66cc66;">~=</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span> j <span style="color: #66cc66;">~=</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>filldraw[black!&quot;</span> <span style="color: #66cc66;">..</span> black_amount <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;!particlecolor, tdplot_screen_coords] (&quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i <span style="color: #66cc66;">*</span> particle_scale <span style="color: #66cc66;">*</span> <span style="color: #cc66cc;">0.25</span> <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;+<span style="color: #000099; font-weight: bold;">\\</span>tdplotresx, &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; j <span style="color: #66cc66;">*</span> particle_scale <span style="color: #66cc66;">*</span> <span style="color: #cc66cc;">0.25</span> <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;+<span style="color: #000099; font-weight: bold;">\\</span>tdplotresy) &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;rectangle +(&quot;</span> <span style="color: #66cc66;">..</span> particle_scale <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;*0.25, &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_scale <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;*0.25);&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span>particle<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_enderman<span style="color: #66cc66;">&#40;</span>x_rotation<span style="color: #66cc66;">,</span> z_rotation<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>tdplotsetmaincoords{&quot;</span> <span style="color: #66cc66;">..</span> x_rotation <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}{&quot;</span> <span style="color: #66cc66;">..</span> z_rotation <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>begin{tikzpicture}[tdplot_main_coords]&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000aa;">math.randomseed</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000aa;">os.time</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">30</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">30</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- right arm</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">42</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">30</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- right leg</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">5</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">42</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">30</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- left leg</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">12</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">4</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">12</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- body</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">30</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">30</span><span style="color: #66cc66;">&#41;</span><span style="color: #808080; font-style: italic;">-- left arm</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_head<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- head</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_particles<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">10</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">10</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">44</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- draw_coordinate_system()</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>end{tikzpicture}&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
\<span style="color: #aa9900; font-weight: bold;">end</span><span style="color: #66cc66;">&#123;</span>luacode<span style="color: #66cc66;">*</span><span style="color: #66cc66;">&#125;</span><br />
<br />
\begin<span style="color: #66cc66;">&#123;</span>document<span style="color: #66cc66;">&#125;</span><br />
\luadirect<span style="color: #66cc66;">&#123;</span>draw_enderman<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">70</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">130</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#125;</span><br />
\<span style="color: #aa9900; font-weight: bold;">end</span><span style="color: #66cc66;">&#123;</span>document<span style="color: #66cc66;">&#125;</span></div></td></tr></tbody></table></div>
<p>Copy the code, save with UTF-8 (without BOM) encoding, and compile using <code class="codecolorer text dawn"><span class="text">lualatex</span></code>.</p>
<div class="codecolorer-container bash dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><div class="bash codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;">lualatex filename.tex</div></div>
<h3>Update ~16:00 CEST on 21 July 2014:</h3>
<p>Yesterday I&#8217;ve sent in this code as an example for <a href="http://www.texample.net/" title="TeXample.net – ample resources for TeX users">TeXample.net</a>. I got an answer from the site maintainer including a small improvement suggestion, namely that I should try algorithmize the drawing of a single (TikZ) cube (instead of concatenating a bunch of strings and make the TeX engine do the calculations). So I did, see the code below. (More details below the code.)</p>
<div class="codecolorer-container lua dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;height:400px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br />50<br />51<br />52<br />53<br />54<br />55<br />56<br />57<br />58<br />59<br />60<br />61<br />62<br />63<br />64<br />65<br />66<br />67<br />68<br />69<br />70<br />71<br />72<br />73<br />74<br />75<br />76<br />77<br />78<br />79<br />80<br />81<br />82<br />83<br />84<br />85<br />86<br />87<br />88<br />89<br />90<br />91<br />92<br />93<br />94<br />95<br />96<br />97<br />98<br />99<br />100<br />101<br />102<br />103<br />104<br />105<br />106<br />107<br />108<br />109<br />110<br />111<br />112<br />113<br />114<br />115<br />116<br />117<br />118<br />119<br />120<br />121<br />122<br />123<br />124<br />125<br />126<br />127<br />128<br />129<br />130<br />131<br />132<br />133<br />134<br />135<br />136<br />137<br />138<br />139<br />140<br />141<br />142<br />143<br />144<br />145<br />146<br />147<br />148<br />149<br />150<br />151<br />152<br />153<br />154<br />155<br />156<br />157<br />158<br />159<br />160<br />161<br />162<br />163<br />164<br />165<br />166<br />167<br />168<br />169<br />170<br />171<br />172<br />173<br />174<br />175<br />176<br />177<br />178<br />179<br />180<br />181<br />182<br />183<br />184<br />185<br />186<br />187<br />188<br />189<br />190<br />191<br />192<br />193<br />194<br />195<br />196<br />197<br />198<br />199<br />200<br />201<br />202<br />203<br />204<br />205<br />206<br />207<br />208<br />209<br />210<br />211<br />212<br />213<br />214<br />215<br />216<br />217<br />218<br />219<br />220<br />221<br />222<br />223<br />224<br />225<br />226<br />227<br />228<br />229<br />230<br />231<br />232<br />233<br />234<br />235<br />236<br />237<br />238<br />239<br />240<br />241<br />242<br />243<br />244<br />245<br />246<br />247<br />248<br />249<br />250<br /></div></td><td><div class="lua codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #66cc66;">%</span> Enderman<br />
<span style="color: #66cc66;">%</span> Author<span style="color: #66cc66;">:</span> István Szántai <span style="color: #66cc66;">&#40;</span>szantaii<span style="color: #66cc66;">&#41;</span><br />
\documentclass<span style="color: #66cc66;">&#123;</span>article<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#123;</span>luacode<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#123;</span>xcolor<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#123;</span>tikz<span style="color: #66cc66;">&#125;</span><br />
\usepackage<span style="color: #66cc66;">&#123;</span>tikz<span style="color: #66cc66;">-</span>3dplot<span style="color: #66cc66;">&#125;</span><br />
<br />
\usepackage<span style="color: #66cc66;">&#91;</span>active<span style="color: #66cc66;">,</span> tightpage<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#123;</span>preview<span style="color: #66cc66;">&#125;</span><br />
\PreviewEnvironment<span style="color: #66cc66;">&#123;</span>tikzpicture<span style="color: #66cc66;">&#125;</span><br />
\setlength<span style="color: #66cc66;">&#123;</span>\PreviewBorder<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>1cm<span style="color: #66cc66;">&#125;</span><br />
<br />
\definecolor<span style="color: #66cc66;">&#123;</span>endermanblack<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">000000</span><span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>endermangray<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">161616</span><span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">%</span>\definecolor<span style="color: #66cc66;">&#123;</span>endermanpurple<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>CC00FA<span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">%</span>\definecolor<span style="color: #66cc66;">&#123;</span>endermanlightpurple<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>E079FA<span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>endermanpurple<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>FF9EFF<span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>endermanlightpurple<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>FFC9FF<span style="color: #66cc66;">&#125;</span><br />
\definecolor<span style="color: #66cc66;">&#123;</span>particlecolor<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>HTML<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>DF4AF8<span style="color: #66cc66;">&#125;</span><br />
<br />
\begin<span style="color: #66cc66;">&#123;</span>luacode<span style="color: #66cc66;">*</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_coordinate_system<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(3,0,0) node[text=white!50!gray,anchor=north east]{$x$};&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0,3,0) node[text=white!50!gray,anchor=west]{$y$};&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[white!50!gray,thick,-&gt;] (0,0,0) -- &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;(0,0,3) node[text=white!50!gray,anchor=south]{$z$};&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> matrix_scalar_multiplication<span style="color: #66cc66;">&#40;</span>matrix<span style="color: #66cc66;">,</span> scalar<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> rows <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>matrix<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> cols <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>matrix<span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tmp_matrix <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> rows <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> j <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> cols <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">*</span> scalar<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> tmp_matrix<br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> shift_coordinates<span style="color: #66cc66;">&#40;</span>matrix<span style="color: #66cc66;">,</span> array<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> matrix_rows <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>matrix<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> matrix_cols <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>matrix<span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> array_length <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>array<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tmp_matrix <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> matrix_cols <span style="color: #66cc66;">==</span> array_length <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> matrix_rows <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> j <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> matrix_cols <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp_matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">=</span> matrix<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">+</span> array<span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> tmp_matrix<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">return</span> <span style="color: #aa9900;">nil</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> color<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_1 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_2 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_3 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_4 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_5 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> side_6 <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> cube_sides <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#123;</span>side_1<span style="color: #66cc66;">,</span> side_2<span style="color: #66cc66;">,</span> side_3<span style="color: #66cc66;">,</span> side_4<span style="color: #66cc66;">,</span> side_5<span style="color: #66cc66;">,</span> side_6<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> tex_cube <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">#</span>cube_sides <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>draw[ultra thin, fill=&quot;</span> <span style="color: #66cc66;">..</span> color <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;] &quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> current_side <span style="color: #66cc66;">=</span> matrix_scalar_multiplication<span style="color: #66cc66;">&#40;</span>cube_sides<span style="color: #66cc66;">&#91;</span>i<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0.5</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; current_side <span style="color: #66cc66;">=</span> shift_coordinates<span style="color: #66cc66;">&#40;</span>current_side<span style="color: #66cc66;">,</span> <span style="color: #66cc66;">&#123;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> current_side_rows <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>current_side<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> current_side_cols <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">#</span>current_side<span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> j <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> current_side_rows <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> k <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> current_side_cols <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> k <span style="color: #66cc66;">==</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;(&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> current_side<span style="color: #66cc66;">&#91;</span>j<span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span>k<span style="color: #66cc66;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> k <span style="color: #66cc66;">~=</span> current_side_cols <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;, &quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;) -- &quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex_cube <span style="color: #66cc66;">=</span> tex_cube <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;cycle;&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span>tex_cube<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_head<span style="color: #66cc66;">&#40;</span>x_pos<span style="color: #66cc66;">,</span> y_pos<span style="color: #66cc66;">,</span> z_pos<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> color<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> x <span style="color: #66cc66;">=</span> x_pos<span style="color: #66cc66;">,</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> y <span style="color: #66cc66;">=</span> y_pos<span style="color: #66cc66;">,</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> z <span style="color: #66cc66;">=</span> z_pos<span style="color: #66cc66;">,</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> <span style="color: #66cc66;">&#40;</span>x <span style="color: #66cc66;">==</span> x_pos <span style="color: #aa9900; font-weight: bold;">or</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">or</span> z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">not</span> <span style="color: #66cc66;">&#40;</span>x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span> y <span style="color: #66cc66;">&gt;</span> y_pos <span style="color: #aa9900; font-weight: bold;">and</span> y <span style="color: #66cc66;">&lt;</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span> z <span style="color: #66cc66;">==</span> z_pos<span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">5</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;endermanlightpurple&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">elseif</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">7</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">6</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> <span style="color: #ff6666;">&quot;endermanpurple&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&lt;</span> <span style="color: #cc66cc;">6</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;endermangray&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;endermanblack&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> color<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_bodypart<span style="color: #66cc66;">&#40;</span>x_pos<span style="color: #66cc66;">,</span> y_pos<span style="color: #66cc66;">,</span> z_pos<span style="color: #66cc66;">,</span> x_length<span style="color: #66cc66;">,</span> y_length<span style="color: #66cc66;">,</span> z_length<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> color<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> x <span style="color: #66cc66;">=</span> x_pos<span style="color: #66cc66;">,</span> x_pos <span style="color: #66cc66;">+</span> x_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> y <span style="color: #66cc66;">=</span> y_pos<span style="color: #66cc66;">,</span> y_pos <span style="color: #66cc66;">+</span> y_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> z <span style="color: #66cc66;">=</span> z_pos<span style="color: #66cc66;">,</span> z_pos <span style="color: #66cc66;">+</span> z_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #aa9900; font-weight: bold;">or</span> x <span style="color: #66cc66;">==</span> x_pos <span style="color: #66cc66;">+</span> x_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">==</span> y_pos <span style="color: #aa9900; font-weight: bold;">or</span> y <span style="color: #66cc66;">==</span> y_pos <span style="color: #66cc66;">+</span> y_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">or</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">==</span> z_pos <span style="color: #aa9900; font-weight: bold;">or</span> z <span style="color: #66cc66;">==</span> z_pos <span style="color: #66cc66;">+</span> z_length <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&lt;</span> <span style="color: #cc66cc;">6</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;endermangray&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; color <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;endermanblack&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tikzcube<span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">,</span> y<span style="color: #66cc66;">,</span> z<span style="color: #66cc66;">,</span> color<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_particles<span style="color: #66cc66;">&#40;</span>x_min<span style="color: #66cc66;">,</span> x_max<span style="color: #66cc66;">,</span> y_min<span style="color: #66cc66;">,</span> y_max<span style="color: #66cc66;">,</span> z_min<span style="color: #66cc66;">,</span> z_max<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> x<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> y<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> z<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> black_amount<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> particle_size<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> particle_scale<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> particle_count <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">30</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">40</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">local</span> particle<br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> particle_count<span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span>x_min<span style="color: #66cc66;">,</span> x_max<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span>y_min<span style="color: #66cc66;">,</span> y_max<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; z <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span>z_min<span style="color: #66cc66;">,</span> z_max<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_size <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_scale <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">20</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">/</span> <span style="color: #cc66cc;">100</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; black_amount <span style="color: #66cc66;">=</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">25</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>tdplottransformmainscreen{&quot;</span> <span style="color: #66cc66;">..</span> x <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}{&quot;</span> <span style="color: #66cc66;">..</span> y <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}{&quot;</span> <span style="color: #66cc66;">..</span> z <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> i <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">for</span> j <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">do</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">if</span> <span style="color: #0000aa;">math.random</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">==</span> <span style="color: #cc66cc;">0</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#40;</span>i <span style="color: #66cc66;">~=</span> <span style="color: #cc66cc;">0</span> <span style="color: #aa9900; font-weight: bold;">and</span> j <span style="color: #66cc66;">~=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>i <span style="color: #66cc66;">~=</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span> j <span style="color: #66cc66;">~=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>j <span style="color: #66cc66;">~=</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span> i <span style="color: #66cc66;">~=</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">and</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>i <span style="color: #66cc66;">~=</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span> <span style="color: #aa9900; font-weight: bold;">and</span> j <span style="color: #66cc66;">~=</span> particle_size <span style="color: #66cc66;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #aa9900; font-weight: bold;">then</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle <span style="color: #66cc66;">=</span> <span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>filldraw[black!&quot;</span> <span style="color: #66cc66;">..</span> black_amount <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;!particlecolor, tdplot_screen_coords] (&quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i <span style="color: #66cc66;">*</span> particle_scale <span style="color: #66cc66;">*</span> <span style="color: #cc66cc;">0.25</span> <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;+<span style="color: #000099; font-weight: bold;">\\</span>tdplotresx, &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; j <span style="color: #66cc66;">*</span> particle_scale <span style="color: #66cc66;">*</span> <span style="color: #cc66cc;">0.25</span> <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;+<span style="color: #000099; font-weight: bold;">\\</span>tdplotresy) &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff6666;">&quot;rectangle +(&quot;</span> <span style="color: #66cc66;">..</span> particle_scale <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;*0.25, &quot;</span> <span style="color: #66cc66;">..</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; particle_scale <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;*0.25);&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span>particle<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
&nbsp; &nbsp; <br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">function</span> draw_enderman<span style="color: #66cc66;">&#40;</span>x_rotation<span style="color: #66cc66;">,</span> z_rotation<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>tdplotsetmaincoords{&quot;</span> <span style="color: #66cc66;">..</span> x_rotation <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}{&quot;</span> <span style="color: #66cc66;">..</span> z_rotation <span style="color: #66cc66;">..</span> <span style="color: #ff6666;">&quot;}&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>begin{tikzpicture}[tdplot_main_coords]&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000aa;">math.randomseed</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000aa;">os.time</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">30</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">30</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- right arm</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">42</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">30</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- right leg</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">5</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">42</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">30</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- left leg</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">12</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">4</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">12</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- body</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_bodypart<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">30</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">30</span><span style="color: #66cc66;">&#41;</span><span style="color: #808080; font-style: italic;">-- left arm</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_head<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span> <span style="color: #808080; font-style: italic;">-- head</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; draw_particles<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">-</span><span style="color: #cc66cc;">10</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">10</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">,</span> <span style="color: #66cc66;">-</span><span style="color: #cc66cc;">44</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">10</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">-- draw_coordinate_system()</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; tex<span style="color: #66cc66;">.</span>sprint<span style="color: #66cc66;">&#40;</span><span style="color: #ff6666;">&quot;<span style="color: #000099; font-weight: bold;">\\</span>end{tikzpicture}&quot;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aa9900; font-weight: bold;">end</span><br />
\<span style="color: #aa9900; font-weight: bold;">end</span><span style="color: #66cc66;">&#123;</span>luacode<span style="color: #66cc66;">*</span><span style="color: #66cc66;">&#125;</span><br />
<br />
\begin<span style="color: #66cc66;">&#123;</span>document<span style="color: #66cc66;">&#125;</span><br />
\luadirect<span style="color: #66cc66;">&#123;</span>draw_enderman<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">70</span><span style="color: #66cc66;">,</span> <span style="color: #cc66cc;">130</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#125;</span><br />
\<span style="color: #aa9900; font-weight: bold;">end</span><span style="color: #66cc66;">&#123;</span>document<span style="color: #66cc66;">&#125;</span></div></td></tr></tbody></table></div>
<p>I have added two new functions (<code class="codecolorer text dawn"><span class="text">matrix_scalar_multiplication</span></code>, <code class="codecolorer text dawn"><span class="text">shift_coordinates</span></code>), and rewrote the <code class="codecolorer text dawn"><span class="text">tikzcube</span></code> function, so now the LuaTeX engine makes all necessary calculations instead of the TeX (TikZ?) engine which is considerably slower. Let&#8217;s see the numbers.</p>
<p>I&#8217;ve measured the compilation time of the original and the improved code. I made 20&ndash;20 &ldquo;dry&rdquo; compilations (no previous <code class="codecolorer text dawn"><span class="text">aux</span></code>, <code class="codecolorer text dawn"><span class="text">log</span></code> or <code class="codecolorer text dawn"><span class="text">pdf</span></code> files). The average compilation time of the original code was 25.35&thinsp;seconds while the improved code&#8217;s average was only 18.30&thinsp;seconds. This means that the improved version is 25% faster than the previous one. Stefan, thanks for your suggestion!</p>
]]></content:encoded>
			<wfw:commentRss>http://sidenote.hu/2014/07/20/drawing-an-enderman-in-latex/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Humble Indie Bundle 8</title>
		<link>http://sidenote.hu/2013/06/01/humble-indie-bundle-8/</link>
		<pubDate>Sat, 01 Jun 2013 17:46:11 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[játék]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[zene]]></category>
		<category><![CDATA[indie]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=8129</guid>
		<description><![CDATA[A héten bevásároltam játékból, megvettem a Humble Indie Bundle 8-at: Hotline Miami, Proteus, Little Inferno, Awesomenauts, Capsized, Thomas Was Alone, Dear Esther + soundtrackek. Azért&#8230;]]></description>
				<content:encoded><![CDATA[<p>A héten bevásároltam játékból, megvettem a <a href="http://www.humblebundle.com/">Humble Indie Bundle 8-at</a>: Hotline Miami, Proteus, Little Inferno, Awesomenauts, Capsized, Thomas Was Alone, Dear Esther + soundtrackek. Azért döntöttem a vásárlás mellett, mert a hétből három játék (amiből már egy megvan) érdekelt, plusz akartam a zenéiket is, és persze mert pokoli olcsó.</p>
<h3><a href="http://dear-esther.com/">Dear Esther</a></h3>
<p>Egyszer <a href="http://sidenote.hu/2012/02/26/dear-esther/">volt már szó erről a játékról</a>, úgyhogy nem írom le, mi is ez. Azért jó, hogy a Dear Esther is bekerült a Humble Indie Bundle-be, mert így megkaptam a teljes soundtracket is a már meglévő játék mellé. A zenét <a href="http://www.jessicacurry.co.uk/">Jessica Curry</a> írta, és külön is megvásáráolható.</p>
<p><iframe width="705" height="397" src="http://www.youtube.com/embed/D7VJ4lP-05A?rel=0" frameborder="0" allowfullscreen></iframe></p>
<h3><a href="http://hotlinemiami.com/">Hotline Miami</a></h3>
<blockquote><p>Hotline Miami is a high-octane action game overflowing with raw brutality, hard-boiled gunplay and skull crushing close combat. Set in an alternative 1989 Miami, you will assume the role of a mysterious antihero on a murderous rampage against the shady underworld at the behest of voices on your answering machine.</p></blockquote>
<p><a href="http://store.steampowered.com/app/219150/">Hotline Miami &ndash; Steam</a></p>
<p>Erősen tizennyolc-pluszos játék. Teljesen 80&#8217;s feeling GTA 1-2-vel nyakonöntve, szóval nagyon addiktív és nagyon beteg.</p>
<p><iframe width="705" height="397" src="http://www.youtube.com/embed/5C5QPmUHw2Y?rel=0" frameborder="0" allowfullscreen></iframe></p>
<p><iframe width="705" height="397" src="http://www.youtube.com/embed/DqpZMsZBdNQ?rel=0" frameborder="0" allowfullscreen></iframe></p>
<h3><a href="http://www.visitproteus.com/">Proteus</a></h3>
<p>A Proteus annyiban hasonló a Dear Esther-hez, hogy ez is egy &bdquo;felfedezős&rdquo; játék, ám itt nincs történet, nincs puzzle, csak gyönyörködni kell a tájban és a zenében. Szerintem csodaszép.</p>
<p><iframe width="705" height="397" src="http://www.youtube.com/embed/rpkpuoq6y9s?rel=0" frameborder="0" allowfullscreen></iframe></p>
<h3>+ a többiek</h3>
<p><em><a href="http://www.urbandictionary.com/define.php?term=meh">Meh.</a></em></p>
]]></content:encoded>
			</item>
		<item>
		<title>bash-gorillas</title>
		<link>http://sidenote.hu/2013/04/08/bash-gorillas/</link>
		<pubDate>Mon, 08 Apr 2013 09:53:41 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[alkotunk]]></category>
		<category><![CDATA[gizmó]]></category>
		<category><![CDATA[játék]]></category>
		<category><![CDATA[Linux]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[Bash]]></category>
		<category><![CDATA[indie]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=7891</guid>
		<description><![CDATA[Ezt írtam legutóbb: A következő nagy projekt a Gorillas játék Bash változata. Hosszú lesz megírni, és egészen biztos vagyok benne, hogy fájdalmasan lassan fog futni,&#8230;]]></description>
				<content:encoded><![CDATA[<p>Ezt írtam <a href="http://sidenote.hu/2013/03/11/bash-ben/">legutóbb</a>:</p>
<blockquote>
<p>A következő nagy projekt a <a href="http://sidenote.hu/2012/12/14/making-old-games-work-under-new-operating-systems-part1-gorillas/">Gorillas játék</a> Bash változata. Hosszú lesz megírni, és egészen biztos vagyok benne, hogy fájdalmasan lassan fog futni, de akkor is… Jó lesz!</p>
</blockquote>
<p>Nem volt hosszú, vagy nehéz megírni, és nem fut &bdquo;fájdalmasan lassan&rdquo; sem (ez persze géptől függ), viszont tényleg jó lett.</p>
<p><img src="http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas.png" alt="bash-gorillas" width="640" height="355" class="alignnone size-full wp-image-7897" srcset="http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas.png 640w, http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-225x124.png 225w, http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-350x194.png 350w" sizes="(max-width: 640px) 100vw, 640px" /></p>
<p>Előkövetelmény Bash &ge; 4.2, <code class="codecolorer text dawn"><span class="text">ncurses-bin</span></code>, <code class="codecolorer text dawn"><span class="text">bc</span></code> és minimum 80&times;22 méretű terminál. A kód elérhető <a href="https://github.com/szantaii/bash-gorillas">GitHub-on</a>, a futtatáshoz pedig a következőket kell terminálba bepötyögni:</p>
<div class="codecolorer-container bash dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><div class="bash codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;">$ <span style="color: #c20cb9; font-weight: bold;">git clone</span> https:<span style="color: #000000; font-weight: bold;">//</span>github.com<span style="color: #000000; font-weight: bold;">/</span>szantaii<span style="color: #000000; font-weight: bold;">/</span>bash-gorillas.git<br />
$ <span style="color: #7a0874; font-weight: bold;">cd</span> bash-gorillas<br />
$ <span style="color: #c20cb9; font-weight: bold;">bash</span> bash-gorillas.sh</div></div>
<p><a href="http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-2.png"><img src="http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-2-350x197.png" alt="bash-gorillas" width="350" height="197" class="alignnone size-medium wp-image-7934" srcset="http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-2-350x197.png 350w, http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-2-225x127.png 225w, http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-2-705x398.png 705w, http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-2.png 1280w" sizes="(max-width: 350px) 100vw, 350px" /></a>&nbsp;<a href="http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-3.png"><img src="http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-3-350x228.png" alt="bash-gorillas" width="350" height="228" class="alignnone size-medium wp-image-7933" srcset="http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-3-350x228.png 350w, http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-3-225x146.png 225w, http://sidenote.hu/wp-content/uploads/2013/04/bash-gorillas-3.png 484w" sizes="(max-width: 350px) 100vw, 350px" /></a></p>
<p>További fejlesztések:</p>
<ul>
<li><del datetime="2013-04-18T06:11:53+00:00">README frissítése (hét második fele);</del></li>
<li><del datetime="2013-04-18T06:11:53+00:00">kód kommentezése (majd valamikor);</del></li>
<li>dobás szög és sebesség felhasználó által való javítási lehetősége <del datetime="2013-05-01T07:32:58+00:00">(ezt a hét második felében megcsinálom);</del></li>
<li><del datetime="2013-04-18T06:11:53+00:00"><code class="codecolorer text dawn"><span class="text">max_speed</span></code>, <code class="codecolorer text dawn"><span class="text">wind_value</span></code> beállítása a játék indításakor <code class="codecolorer bash dawn"><span class="bash"><span style="color: #7a0874; font-weight: bold;">getopts</span></span></code> használatával (hétvégén vagy jövő héten megírom);</del></li>
<li><del datetime="2013-04-30T15:35:30+00:00">bejegyzés létrehozása a <a href="http://sidenote.hu/projects/">Projektek</a>, illetve a <a href="http://bash.sidenote.hu/">bash.sidenote.hu</a> oldalakon.</del></li>
</ul>
<p>A hátralevő fejlesztések ellenére már használható a cucc. Viszont ne habozzatok írni, ha találtok bugot, elérhetőségem a <a href="http://sidenote.hu/about/">Rólunk oldalon</a>. (Diffeknek örülnék a legjobban.)</p>
]]></content:encoded>
			</item>
		<item>
		<title>Primordia</title>
		<link>http://sidenote.hu/2012/12/21/primordia/</link>
		<pubDate>Fri, 21 Dec 2012 13:40:17 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[játék]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[cyberpunk]]></category>
		<category><![CDATA[indie]]></category>
		<category><![CDATA[videó]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=7655</guid>
		<description><![CDATA[Poszt-apokaliptikus cyberpunk point-and-click kalandjáték csodálatos zenével és grafikával. Ezzel leptem meg magam karácsonyra. What happened to the humans? Set in a post-apocalyptic world strewn with&#8230;]]></description>
				<content:encoded><![CDATA[<p>Poszt-apokaliptikus cyberpunk point-and-click kalandjáték csodálatos zenével és grafikával. Ezzel leptem meg magam karácsonyra.</p>
<blockquote>
<p>What happened to the humans?</p>
<p>Set in a post-apocalyptic world strewn with cast-off machines, Primordia tells the story of Horatio Nullbuilt, a stoic robot who values his solitude and independence. Horatio spends his days studying the Book of Man, sparring with his droid companion Crispin, and tinkering with the airship they call home — a peaceful existence that becomes threatened when a rogue robot steals the energy source that the pair needs to survive.</p>
<p>When Horatio and Crispin’s search for energy brings them to the dazzling city of Metropol, the simple quest to recover their stolen power core leads to unexpected discoveries about Horatio’s origins and a new understanding of the legendary humans who walked the earth before him.</p>
</blockquote>
<p><a href="http://www.wadjeteyegames.com/primordia.html">Primordia</a></p>
<p><iframe width="705" height="397" src="http://www.youtube.com/embed/0YvWQi_5fsw?rel=0" frameborder="0" allowfullscreen></iframe></p>
]]></content:encoded>
			</item>
		<item>
		<title>Making old games work under new operating systems – Part&#160;1: Gorillas</title>
		<link>http://sidenote.hu/2012/12/14/making-old-games-work-under-new-operating-systems-part1-gorillas/</link>
		<comments>http://sidenote.hu/2012/12/14/making-old-games-work-under-new-operating-systems-part1-gorillas/#comments</comments>
		<pubDate>Fri, 14 Dec 2012 11:47:33 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[ismeretterjesztő]]></category>
		<category><![CDATA[játék]]></category>
		<category><![CDATA[Linux]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[Basic]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=7540</guid>
		<description><![CDATA[Image source: File:Gorillas screenshot.png &#8211; Wikipedia I hope there are still some of you out there who remember the game Gorillas written in Basic. I&#8230;]]></description>
				<content:encoded><![CDATA[<p><img src="http://sidenote.hu/wp-content/uploads/2012/12/gorillas_screenshot.png" alt="Gorillas" width="640" height="350" class="alignnone size-full wp-image-7547" srcset="http://sidenote.hu/wp-content/uploads/2012/12/gorillas_screenshot.png 640w, http://sidenote.hu/wp-content/uploads/2012/12/gorillas_screenshot-225x123.png 225w, http://sidenote.hu/wp-content/uploads/2012/12/gorillas_screenshot-350x191.png 350w" sizes="(max-width: 640px) 100vw, 640px" /></p>
<p>Image source: <a href="http://en.wikipedia.org/wiki/File:Gorillas_screenshot.png">File:Gorillas screenshot.png &#8211; Wikipedia</a></p>
<p>I hope there are still some of you out there who remember the game <a href="http://en.wikipedia.org/wiki/Gorillas_%28video_game%29">Gorillas</a> written in Basic. I have friends who still play this game from time to time.</p>
<p>These guys use Linux as their main operating system, so getting Gorillas to work needed the following workaround. First you had to get QBasic (from Microsoft or another source), then install <a href="http://www.dosbox.com/">DOSBox</a> under Linux, start QBasic in DOSBox, load the source of Gorillas, and start the game. Each time you wanted to play you had to go through these steps, plus you had to adjust the game speed in DOSBox for your computer. I admit this isn&#8217;t difficult, but it is pokey.</p>
<p>So the other day I thought about rewriting this game in Basic and make it work under Windows and Linux. Finding the <a href="http://hem.passagen.se/hedsen/prg/games/gorilla.bas">original(?) source</a> wasn&#8217;t hard. The next step was to find a Basic compiler. I knew <a href="http://www.freebasic.net/">FreeBASIC</a>, and after looking into it a little I&#8217;ve found out I can use the original graphics library of QBasic using FreeBASIC. The only problem was that I couldn&#8217;t set up FreeBASIC under 64&nbsp;bit Linux, and there was the issue that FreeBASIC is a 32&nbsp;bit only compiler too. I diched FreeBASIC and started to search for another Basic compiler, and luckily I&#8217;ve found <a href="http://www.qb64.net/">QB64</a>.</p>
<p>&ldquo;Over 45 years of compatibility&hellip;&rdquo; said the QB64 website. This aroused my interest, I thought that I might not need to rewrite the game at all but I may be able to compile the original source with QB64. To cut a long story short I had to touch only five lines of code in the original source to get the game work under Windows and Linux. Here is the receipt.</p>
<ol>
<li>
<p>QB64 doesn&#8217;t like the inline definition on line 211, so comment it out.</p>
<p><div class="codecolorer-container qbasic dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>211<br /></div></td><td><div class="qbasic codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #808080;">'DEF FnRan (x) = INT(RND(1) * x) + 1</span></div></td></tr></tbody></table></div>
</p>
</li>
<li>
<p>Add a new function declaration to the code (around line 90 in the original source).</p>
<p><div class="codecolorer-container qbasic dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br /></div></td><td><div class="qbasic codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #000066;">DECLARE</span> <span style="color: #a1a100;">FUNCTION</span> FnRan <span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">&#41;</span></div></td></tr></tbody></table></div>
</p>
</li>
<li>
<p>Add the following function definition to the end of the file.</p>
<p><div class="codecolorer-container qbasic dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br /></div></td><td><div class="qbasic codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #a1a100;">FUNCTION</span> FnRan <span style="color: #66cc66;">&#40;</span>x<span style="color: #66cc66;">&#41;</span><br />
<br />
&nbsp; &nbsp; FnRan <span style="color: #66cc66;">=</span> <span style="color: #000066;">INT</span><span style="color: #66cc66;">&#40;</span><span style="color: #000066;">RND</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">*</span> x<span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">+</span> <span style="color: #cc66cc;">1</span><br />
<br />
<span style="color: #000066;">END</span> <span style="color: #a1a100;">FUNCTION</span></div></td></tr></tbody></table></div>
</p>
</li>
<li>
<p>Adjust the <code class="codecolorer qbasic dawn"><span class="qbasic"><span style="color: #000066;">CONST</span> SPEEDCONST</span></code> constant&#8217;s value from 500 to 100,000,000 (line 123 in the original source). Note that you may need to use a different value, depending your computer.</p>
<p><div class="codecolorer-container qbasic dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>123<br /></div></td><td><div class="qbasic codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #000066;">CONST</span> SPEEDCONST <span style="color: #66cc66;">=</span> <span style="color: #cc66cc;">100000000</span></div></td></tr></tbody></table></div>
</p>
</li>
<li>
<p>Compile.</p>
</li>
</ol>
<p>That&#8217;s it. After these modifications the code will compile without any errors. I tried it on Windows and Linux. (I don&#8217;t have a Mac but I&#8217;m pretty sure this will work under OS X too.) See the proof below.</p>
<p><a href="http://sidenote.hu/wp-content/uploads/2012/12/gorillas_windows.png"><img src="http://sidenote.hu/wp-content/uploads/2012/12/gorillas_windows-350x204.png" alt="Gorillas running under Windows 7" width="350" height="204" class="alignnone size-medium wp-image-7595" srcset="http://sidenote.hu/wp-content/uploads/2012/12/gorillas_windows-350x204.png 350w, http://sidenote.hu/wp-content/uploads/2012/12/gorillas_windows-225x131.png 225w, http://sidenote.hu/wp-content/uploads/2012/12/gorillas_windows.png 646w" sizes="(max-width: 350px) 100vw, 350px" /></a>&nbsp;<a href="http://sidenote.hu/wp-content/uploads/2012/12/gorillas_linux.png"><img src="http://sidenote.hu/wp-content/uploads/2012/12/gorillas_linux-350x207.png" alt="Gorillas running under Ubuntu 12.04 (64 bit)" width="350" height="207" class="alignnone size-medium wp-image-7596" srcset="http://sidenote.hu/wp-content/uploads/2012/12/gorillas_linux-350x207.png 350w, http://sidenote.hu/wp-content/uploads/2012/12/gorillas_linux-225x133.png 225w, http://sidenote.hu/wp-content/uploads/2012/12/gorillas_linux.png 642w" sizes="(max-width: 350px) 100vw, 350px" /></a></p>
<p><em>Edit #1</em></p>
<p>I&#8217;m posting a patch which contains all described modifications. To patch the original source first unpack the linked tar.gz file then enter the following command in your terminal.</p>
<p><div class="codecolorer-container bash dawn" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br /></div></td><td><div class="bash codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #c20cb9; font-weight: bold;">patch</span> gorilla.bas <span style="color: #660033;">-o</span> gorilla-patched.bas <span style="color: #000000; font-weight: bold;">&lt;</span> gorilla.bas.patch</div></td></tr></tbody></table></div>
</p>
<p>Note that you will need the <code class="codecolorer text dawn"><span class="text">diff</span></code> and <code class="codecolorer text dawn"><span class="text">patch</span></code> programs for this operation (available through Cygwin under Windows).</p>
<ul>
<li><a href="http://sidenote.hu/wp-content/uploads/2012/12/gorilla.bas_.patch_.tar.gz">gorilla.bas.patch.tar.gz</a></li>
</ul>
]]></content:encoded>
			<wfw:commentRss>http://sidenote.hu/2012/12/14/making-old-games-work-under-new-operating-systems-part1-gorillas/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>OpenTTD szerver</title>
		<link>http://sidenote.hu/2012/09/19/openttd-szerver/</link>
		<pubDate>Wed, 19 Sep 2012 12:02:10 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[hardver]]></category>
		<category><![CDATA[játék]]></category>
		<category><![CDATA[Linux]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[Raspberry Pi]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=7414</guid>
		<description><![CDATA[Pár napja dedikált OpenTTD szervert futtatok a Raspberry Pi-omon. Bárki játszhat rajta, a szerverek között [HU] RPiTTD néven szerepel. Mérsékelt égövi, 64&#215;64-es térkép, egy AI&#8230;]]></description>
				<content:encoded><![CDATA[<p>Pár napja <a href="http://www.openttd.org/en/server/62533">dedikált OpenTTD szervert</a> futtatok a <a href="http://www.raspberrypi.org/">Raspberry Pi</a>-omon. Bárki játszhat rajta, a szerverek között <code class="codecolorer text dawn"><span class="text">[HU] RPiTTD</span></code> néven szerepel. Mérsékelt égövi, 64&#215;64-es térkép, <del datetime="2012-09-20T10:34:01+00:00">egy AI (OtviAI)</del> két AI, villamosok és sokféle közúti jármű (lovaskocsi is!), 2000&ndash;2050. Ezek vannak.</p>
<p><img src="http://sidenote.hu/wp-content/uploads/2012/09/RPiTTD.jpg" alt="" title="RPiTTD" width="705" height="529" class="alignnone size-full wp-image-7416" srcset="http://sidenote.hu/wp-content/uploads/2012/09/RPiTTD.jpg 705w, http://sidenote.hu/wp-content/uploads/2012/09/RPiTTD-225x168.jpg 225w, http://sidenote.hu/wp-content/uploads/2012/09/RPiTTD-350x262.jpg 350w" sizes="(max-width: 705px) 100vw, 705px" /></p>
<p>A térkép azért ilyen kicsi, mert a RasPi nem egy erőgép, és a játék vége felé, ha többen játszanak, a processzorhasználat simán felmegy 70% fölé is. A kis térkép ne riassza vissza a hardcore OpenTTD játékosokat (ha van ilyen), mert a helyszűke miatt igazi kihívás az AI és egy-két másik játékos mellett elférni a mapon.</p>
<p>Igazából arra vagyok kíváncsi, hogy mit bír a RasPi. Mérem az OpenTTD processzor és memóriahasználatát. Csinálok majd szép grafikont, ha lesz elég mért adat. Addig is játsszatok!</p>
]]></content:encoded>
			</item>
		<item>
		<title>ZOMBIE PENGUINS!</title>
		<link>http://sidenote.hu/2012/07/26/zombie-penguins/</link>
		<pubDate>Thu, 26 Jul 2012 14:56:05 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[játék]]></category>
		<category><![CDATA[Linux]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[Valve]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=7375</guid>
		<description><![CDATA[A hét képe: És az elmúlt hét legnagyobb Linux-játék híre: [&#8230;] For some time, Gabe has been interested in the possibility of moving Steam and&#8230;]]></description>
				<content:encoded><![CDATA[<p>A hét képe:</p>
<p><a href="http://www.l4d.com/coldstream/"><img src="http://sidenote.hu/wp-content/uploads/2012/07/zombie_penguins.png" alt="" title="L4D2 is coming to Linux" width="705" height="350" class="alignnone size-full wp-image-7376" srcset="http://sidenote.hu/wp-content/uploads/2012/07/zombie_penguins.png 705w, http://sidenote.hu/wp-content/uploads/2012/07/zombie_penguins-225x111.png 225w, http://sidenote.hu/wp-content/uploads/2012/07/zombie_penguins-350x173.png 350w" sizes="(max-width: 705px) 100vw, 705px" /></a></p>
<p>És az elmúlt hét legnagyobb Linux-játék híre:</p>
<blockquote>
<p>[&hellip;]</p>
<p>For some time, Gabe has been interested in the possibility of moving Steam and the Source game engine to Linux. At the time, the company was already using Linux by supporting Linux-based servers for Source-based games and also by maintaining several internal servers (running a 64-bit version of Ubuntu server) for various projects. In 2011, based on the success of those efforts and conversations in the hallway, we decided to take the next step and form a new team. At that time, the team only consisted of a few people whose main purpose was investigating the possibility of moving the Steam client and Left 4 Dead 2 over to Ubuntu.</p>
<p>Why Ubuntu? There are a couple of reasons for that. First, we’re just starting development and working with a single distribution is critical when you are experimenting, as we are. It reduces the variability of the testing space and makes early iteration easier and faster. Secondly, Ubuntu is a popular distribution and has recognition with the general gaming and developer communities. This doesn’t mean that Ubuntu will be the only distribution we support. [!] Based on the success of our efforts around Ubuntu, we will look at supporting other distributions in the future.</p>
<p>After successfully porting L4D2 to Ubuntu, interest grew within Valve and, as a result, the team and projects we were working on also grew. Currently, our focus is on the following projects:</p>
<ul>
<li>getting the Steam client onto Linux with full functionality</li>
<li>optimizing a version of L4D2 running at a high frame rate with OpenGL</li>
<li>porting additional Valve titles</li>
</ul>
<p>[&hellip;]</p>
</blockquote>
<p><a href="http://blogs.valvesoftware.com/linux/steamd-penguins/">Steam&#8217;d Penguins | Valve</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Botanicula</title>
		<link>http://sidenote.hu/2012/05/13/botanicula/</link>
		<pubDate>Sun, 13 May 2012 17:02:25 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[animáció]]></category>
		<category><![CDATA[játék]]></category>
		<category><![CDATA[művészet, dizájn]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[zene]]></category>
		<category><![CDATA[indie]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=7192</guid>
		<description><![CDATA[Az Amanita Design legújabb point-and-click kalandjátéka. Megüti a korábbi játékaik által feltett mércét. Akinek kétségei vannak, nézze meg az alábbi trailert. Nem igazán tudom, mit&#8230;]]></description>
				<content:encoded><![CDATA[<p>Az <a href="http://sidenote.hu/?s=amanita+design">Amanita Design</a> legújabb point-and-click kalandjátéka. Megüti a korábbi játékaik által feltett mércét. Akinek kétségei vannak, nézze meg az alábbi trailert.</p>
<p><iframe width="705" height="472" src="http://www.youtube.com/embed/UxeaS4Pq4EY?rel=0" frameborder="0" allowfullscreen></iframe></p>
<p>Nem igazán tudom, mit írjak. Zseniális játék. Pont. Az egyetlen idegesítő rész az volt, amikor egy csillagot kellett kiszabadítani egy hernyó fogságából, kb. tizedszerre sikerült megcsinálni. (Egy &bdquo;csillagot kellett kiszabadítani egy hernyó fogságából&rdquo;, kérdezhetnéd. Inkább ne.)</p>
<p>A zene és a hangok itt is legalább olyan fontosak, mint a Machinariumban, kénytelen leszek ezt a soundtracket is megvenni. Áh, csúcsszuper játék, millió apró részlettel, fantasztikus világgal. Tessék megvenni!</p>
<p><a href="http://sidenote.hu/wp-content/uploads/2012/05/botanicula1.jpg"><img src="http://sidenote.hu/wp-content/uploads/2012/05/botanicula1-350x218.jpg" alt="" title="Botanicula" width="350" height="218" class="alignnone size-medium wp-image-7250" srcset="http://sidenote.hu/wp-content/uploads/2012/05/botanicula1-350x218.jpg 350w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula1-225x140.jpg 225w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula1-705x440.jpg 705w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula1.jpg 1440w" sizes="(max-width: 350px) 100vw, 350px" /></a>&nbsp;<a href="http://sidenote.hu/wp-content/uploads/2012/05/botanicula2.jpg"><img src="http://sidenote.hu/wp-content/uploads/2012/05/botanicula2-350x218.jpg" alt="" title="Botanicula" width="350" height="218" class="alignnone size-medium wp-image-7249" srcset="http://sidenote.hu/wp-content/uploads/2012/05/botanicula2-350x218.jpg 350w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula2-225x140.jpg 225w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula2-705x440.jpg 705w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula2.jpg 1440w" sizes="(max-width: 350px) 100vw, 350px" /></a><br /><a href="http://sidenote.hu/wp-content/uploads/2012/05/botanicula3.jpg"><img src="http://sidenote.hu/wp-content/uploads/2012/05/botanicula3-350x218.jpg" alt="" title="Botanicula" width="350" height="218" class="alignnone size-medium wp-image-7248" srcset="http://sidenote.hu/wp-content/uploads/2012/05/botanicula3-350x218.jpg 350w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula3-225x140.jpg 225w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula3-705x440.jpg 705w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula3.jpg 1440w" sizes="(max-width: 350px) 100vw, 350px" /></a>&nbsp;<a href="http://sidenote.hu/wp-content/uploads/2012/05/botanicula4.jpg"><img src="http://sidenote.hu/wp-content/uploads/2012/05/botanicula4-350x218.jpg" alt="" title="Botanicula" width="350" height="218" class="alignnone size-medium wp-image-7247" srcset="http://sidenote.hu/wp-content/uploads/2012/05/botanicula4-350x218.jpg 350w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula4-225x140.jpg 225w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula4-705x440.jpg 705w, http://sidenote.hu/wp-content/uploads/2012/05/botanicula4.jpg 1440w" sizes="(max-width: 350px) 100vw, 350px" /></a></p>
<p><a href="http://botanicula.net/">Botanicula</a></p>
]]></content:encoded>
			</item>
		<item>
		<title>Syndicate</title>
		<link>http://sidenote.hu/2012/04/25/syndicate/</link>
		<comments>http://sidenote.hu/2012/04/25/syndicate/#comments</comments>
		<pubDate>Wed, 25 Apr 2012 07:56:02 +0000</pubDate>
		<dc:creator><![CDATA[szantaii]]></dc:creator>
				<category><![CDATA[játék]]></category>
		<category><![CDATA[szoftver]]></category>
		<category><![CDATA[zene]]></category>
		<category><![CDATA[cyberpunk]]></category>
		<category><![CDATA[sci-fi]]></category>
		<category><![CDATA[videó]]></category>

		<guid isPermaLink="false">http://sidenote.hu/?p=7139</guid>
		<description><![CDATA[A Syndicate Warsban a hirdetőtáblákon többek között a Ghost in the Shell trailere futott. Cyberpunk at its best! Kommentben megígértem, hogy kiegészítem a posztot, de&#8230;]]></description>
				<content:encoded><![CDATA[<p><iframe width="705" height="480" src="http://www.youtube.com/embed/Jv8MM9ffK0c?rel=0" frameborder="0" allowfullscreen></iframe></p>
<p><img src="http://sidenote.hu/wp-content/uploads/2012/04/swars-gits.png" alt="" title="Syndicate Wars Ghost in the Shell Billboard" width="640" height="400" class="alignnone size-full wp-image-7142" srcset="http://sidenote.hu/wp-content/uploads/2012/04/swars-gits.png 640w, http://sidenote.hu/wp-content/uploads/2012/04/swars-gits-225x140.png 225w, http://sidenote.hu/wp-content/uploads/2012/04/swars-gits-350x218.png 350w" sizes="(max-width: 640px) 100vw, 640px" /></p>
<p>A Syndicate Warsban a hirdetőtáblákon többek között a Ghost in the Shell trailere futott. Cyberpunk at its best!</p>
<p><iframe width="705" height="427" src="http://www.youtube.com/embed/xh0tStI2Xfw?rel=0" frameborder="0" allowfullscreen></iframe></p>
<p><iframe width="705" height="427" src="http://www.youtube.com/embed/ewwtznVkSxA?rel=0" frameborder="0" allowfullscreen></iframe></p>
<p>Kommentben megígértem, hogy kiegészítem a posztot, de inkább csak kiteszem ide a kommentek releváns részeit.</p>
<blockquote>
<p>Írta: Red 2012. április 25. 10:14<br />
Hogy lemaradtam erről… Kicsit rossz szájízem van, hogy FPS-t csináltak belőle, de kíváncsi lennék rá, lehet, hogy beszerzem majd Xbox-ra.</p>
<p>Írta: szantaii 2012. április 25. 11:06<br />
Én is így voltam vele. Jobban örültem volna valami stratégiai játéknak. Az FPS-ek (1-2 kivételtől eltekintve) már nemigazán kötnek le. Viszont ez elég ütős lett, jól visszaadja a régi hangulatot, persze azért sok minden hiányzik is belőle.<br />
Van ez a Skrillex gyerek meg még 1-2 DJ [ejtsd: diddzséj :)], akik remixelték a régi zenéket ehhez az új játékhoz, és habár nem vagyok dubstep fan, mégis jók lettek.<br />
[&hellip;]</p>
</blockquote>
]]></content:encoded>
			<wfw:commentRss>http://sidenote.hu/2012/04/25/syndicate/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
	</channel>
</rss>
